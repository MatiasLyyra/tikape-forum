class Discussion < ApplicationRecord
  self.table_name = 'discussion'

  validates :name, presence: true

  def self.createDiscussion(title, category_id)
    Discussion.find_by_sql(["INSERT INTO Discussion (title, category_id) VALUES (?, ?)", title.to_s, category_id.to_i])
  end

  def self.findDiscussion(title)
    Discussion.find_by_sql(["SELECT * FROM Discussion WHERE title=?", title.to_s]).first
  end

  def self.getDiscussionById(id)
    Discussion.find_by_sql(["SELECT * FROM Discussion WHERE id=?", id.to_i]).first
  end
  
  def self.getDiscussionsByCategory(category_id)
	Discussion.find_by_sql(["SELECT * FROM Discussion WHERE category_id=?", category_id.to_i]).first

end
