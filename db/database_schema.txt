CREATE TABLE Kategoria (
	id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
	aihe VARCHAR(255) NOT NULL,
	yla_kategoria_id UNSIGNED INTEGER NOT NULL,
	FOREIGN KEY(yla_kategoria_id) REFERENCES Kategoria(id)
);

CREATE TABLE Keskustelu (
	id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
	otsikko VARCHAR(255) NOT NULL,
	kategoria_id UNSIGNED INTEGER NOT NULL,
	FOREIGN KEY(kategoria_id) REFERENCES Kategoria(id)
);

CREATE TABLE Viesti (
	id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
	kayttaja_id VARCHAR(255) NOT NULL,
	viestisisalto TEXT NOT NULL,
	aika TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	last_edited TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	keskustelu_id UNSIGNED INTEGER NOT NULL,
	FOREIGN KEY(keskustelu_id) REFERENCES Keskustelu(id)
	FOREIGN KEY(kayttaja_id) REFERENCES Kayttaja(id)
);

CREATE TABLE Kayttaja (
	id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
	nick VARCHAR(255) NOT NULL,
	salasana VARCHAR(255) NOT NULL,
	salt VARCHAR(255) NOT NULL,
	luotu TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
	viimeinen_kirjautuminen TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);